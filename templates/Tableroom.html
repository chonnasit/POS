{% load static %}

<!DOCTYPE html>
<html >
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link rel="stylesheet" type="text/css"  href="{% static 'assets/css/simple-sidebar.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/main.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/home.css' %}" />
    <link href="https://fonts.googleapis.com/css?family=Rowdies" rel="stylesheet" />
    <!-- <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" /> -->

    <!-- Bootstrap icon CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>

    <title>Kitchen</title>
    <style>
      .grid-container {
        display: grid;
        grid-row-gap: 40px;
        grid-template-columns: auto auto auto;

      }
      .grid-item {
        font-size: 18px;
        text-align: center;
        font-color:#000000;
      }
    </style>
    <style>

      body {
        background: #ffffff ;
      }
      .container {
        max-width: 00px;
        margin: 0 auto;
      }
      label {
          width: 100%;
      }

      .card-input-element {
          display: none;
      }

      .card-input {
          margin: 10px;
          padding: 00px;
      }

      .card-input:hover {
          cursor: pointer;
      }

      .card-input-element:checked + .card-input {
          box-shadow: 0 0 1px 1px #000000;
      }

    </style>
    
  </head>

  <body>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
 
  <div class="d-flex" id="wrapper">
      <!-- Sidebar -->

      <div class="bgc" id="sidebar-wrapper">
        <div class="sidebar-heading" style="text-align: center">
          <a style="font-size: 24px; color: white" href="#"> POS </a>
          <div class="inner" style="text-align: center"></div>
        </div>
        <div class="list-group">

          <a href="/Tableroom" class="list-group-item list-group-item-action" style="border: none">
            จัดการที่นั่ง
          </a>
          <li class="active">
            <a href="#orderSubmenu" class="list-group-item list-group-item-action" style="border: none" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">สั่งและชำระ</a>
            <ul class="collapse list-unstyled" id="orderSubmenu">
              <li>
                <a style = "margin-left: 25px;" href="/Foods">ของหวาน</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="/Drink">เครื่องดื่ม</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="/Ice_Cream">ไอศครีม</a>
              </li>
            </ul>
          </li>

          <a href="" class="list-group-item list-group-item-action">
            ออเดอร์ที่เปิดอยู่
          </a>
          <a href="/Orderhis" class="list-group-item list-group-item-action">
            ประวัติใบเสร็จ
          </a>
          <a href="/Kitchen" class="list-group-item list-group-item-action">
            จัดการครัว
          </a>
          <li class="active">
            <a href="#saleSubmenu" class="list-group-item list-group-item-action" style="border: none" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">รายงาน</a>
            <ul class="collapse list-unstyled" id="saleSubmenu">
              <li>
                <a style = "margin-left: 25px;" href="/Report"  >-สรุปยอดขาย</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="/Tipsd">-รายการทิป</a>
              </li>
            </ul>
          </li>
          <li class="active">
            <a href="#settingSubmenu" class="list-group-item list-group-item-action" style="border: none" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">ตั้งค่า</a>
            <ul class="collapse list-unstyled" id="settingSubmenu">
              <li>
                <a style = "margin-left: 25px;" href="/AddFood">-เพิ่มประเภทอาหาร</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="#">-แก้ไขเมนูที่สั่งผิด</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="#">-เพิ่มเมนู</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="#">-ลบเมนู</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="#">-เพิ่มจำนวนที่นั่ง</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="#">-ลบจำนวนที่นั่ง</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="#">-ตั้งค่าใบเสร็จ</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="/Repassword">-เปลี่ยนรหัสผ่าน</a>
              </li>
              <li>
                <a style = "margin-left: 25px;" href="/Employee_list">-จัดการพนักงาน</a>
              </li>
            </ul>
          </li>
        </div>
        <div style="padding-top: 42%;">
          <a href="/"><button type="submit" class="btn btn-dark "  style="background:#323444;width: 100%;"> ออกจากระบบ </button></a>
        </div>
        
      </div>

      {% block  content %}

      <div id="page-content-wrapper"  >
          <nav class="navbar navbar-expand-lg navbar-dark  border-bottom"  style="background:#323444" >
            <div    class="collapse navbar-collapse"   id="navbarSupportedContent" >
               <p style="text-align: center; margin: auto;color: white">ที่นั่ง</p>
           </div>
      </nav>
      <div class="dashboard-wrapper" style="padding-top:2%" >
        <div class="dashboard-ecommerce">
          <div class="container-fluid dashboard-content " style="padding-bottom:2%" >

          <div  style="padding-right:2%" align="right">
            <form action="/Foods" method="post">
              {% csrf_token %}
               <button type="submit"  name="typeorder"  value="Home" class="btn btn-dark btn-block"  style="background:#323444"> สั่งกลับบ้าน </button>
            </form>
          </div>
        </div>
     
      <div class="row">
       
        <div class=" col-6 " style="margin-left:3%;margin-right:5%;height: 50px;">
          <div class="container " style="max-width: 100%; overflow-y: scroll;height: 410px;" >
          <ul >
           {% for a in tables %}
           <label>
             <script>
               
                var linkaction = "/Foods" ;
                function myFunction(aa){
                  if(aa== null){
                    linkaction = "/Foods" ;
                  }
                  else{
                    linkaction = "/removeq";
                    console.log(linkaction)
                  }
                  console.log(linkaction)
                  document.write("<form action="+linkaction+" "+ "method='post'>");
                };
                //componentWillMount() { 
               // linkaction=myFunction();
                //console.log(linkaction);
              //  document.write("<form action="+linkaction+" "+ "method='post'>");
              //  };
             </script>
             
              {% csrf_token %}
            <input type="radio" name="product" id={{a.id}} value={{a.number}} class="card-input-element" />
              <div class="panel panel-default card-input" >
                <li style="margin-bottom:10%" id={{a.id}}>
                  <div class="card ">
                    {% if a.status_table == 'N' %}
                    <div class="card-header" style="background:#323444;color:white">
                    {%  endif %}
                    {% if a.status_table == 'Y' %}
                    <div class="card-header" style="background:#FF0000;color:white">
                    {%  endif %}
                      <div class="grid-container">
                      <div class="grid-item" >โต๊ะ  {{a.number}}</div>
                       <div class="grid-item">   </div>
                      <div class="grid-item">นั่งได้ {{a.Quantity}} คน</div>
                    </div>
                    </div>
                    <div class="card-body">
                      <p class="card-title"></p>
                      <p class="card-text">{{a.order}}</p>
                    </div>
                    <div class="card-footer text-muted">
                      <div class="grid-container">
                      <div class="grid-item">{{a.time}}</div>
                       <div class="grid-item">   </div>
                      <div class="grid-item">
                        <button type="button" class="btn btn-success btn-block" data-bs-toggle="modal" data-bs-target="#exampleModal" style="background:#323444"  onclick="myFunction(1)" >
                           <p style="color:white" >
                             ย้ายโต๊ะ
                           </p>
                        </button>
                        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                          <div class="modal-dialog">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">ย้ายโต๊ะ</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                <div >
                                 โต๊ะปัจจุบัน <input type="email" placeholder={{a.number}}  disabled="disabled" />
                                </div>
                                  <br/>
                                  <div class="row" style="padding-left:10%;">โต๊ะที่จะย้าย
                                    
                                    <select id="inputState" class="form-control" name="Qg" style="width: 70%;">
                                      <option selected>Choose...</option>
                                      {% for a in tables %}
                                          {% if a.status_table == "N"  %}
                                              <option>{{a.number}} </option>
                                          {% endif %}
                                      {% endfor %}
                                    </select>
                                  </div>
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ยกเลิก</button>
                                <button type="submit"  class="btn btn-primary"  >บันทึก</button>
                              </div>

                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                    </div>
                 </div>
                </li>
              </div>
            
          </label>
             
           {% endfor %}
         </ul>
        </div>
         <div align="center" >
          <button type="submit" class="btn btn-dark btn-block"  style="background:#323444"> สั่งและชำระ </button>
        </div>
      </div>
     
      </form>
      
        <div class="col-5">
          <form  action="/removeq" method="post">
            {% csrf_token %}
             <div class="container"  style="height: 350px;overflow-y: scroll;max-width: 100%;" >
             
              <table class="table" border=2 >
               <tr>
                <th >
                  <h5 align="center">  คิวที่รอ </h5>
                <th>
              </tr>
              {% for a in q %}
                <tr>
                  <td style="padding-left:20% ;">
                   <input type="radio" name="listQ"  value={{a.id}}> {{a.id}}
                  <td>
                </tr>
               
              {%  endfor %}
             </table>
            </div>
            <div align="center" style="padding-bottom: 5%;">
                <button type="button" class="btn btn-dark btn-block" data-bs-toggle="modal"  data-bs-target="#remove" style="background:#323444;width:80%;"> ย้ายคิว </button>
                <div class="modal fade" id="remove" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">ย้ายคิว</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      
                      <div class="modal-body">
                        <div >
                          เลขโต๊ะที่จะย้าย <select id="inputState" class="form-control" name="Qg">
                          <option selected>Choose...</option>
                          {% for a in tables %}
                              {% if a.status_table == "N"  %}
                                  <option>{{a.number}}  </option>
                              {% endif %}
                          {% endfor %}
                        </select>
                        </div>
                         
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ยกเลิก</button>
                        <button type="submit" class="btn btn-primary">บันทึก</button>
                      </div>
             
                    </div>
                  </div>
                </div>
             </div>
            </form>

             <div align="center"  style="padding-bottom: 5%;">
              <button type="button" class="btn btn-dark btn-block" data-bs-toggle="modal"  data-bs-target="#as"  style="background:#323444;width:80%;">   โต๊ะเต็ม  </button>
              <div class="modal fade" id="as" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">รอคิว</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form action="/Foods" method="post">
                      {% csrf_token %}
                    <div class="modal-body">
                      <div >
                       จำนวนลูกค้า  <select id="inputState" class="form-control" name="Q">
                        <option selected>Choose...</option>
                        <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option>
                        <option>10</option><option>11</option><option>12</option><option>13</option><option>14</option><option>15</option><option>16</option><option>17</option><option>18</option><option>19</option>
                        <option>20</option><option>21</option><option>22</option><option>23</option><option>24</option><option>25</option><option>26</option><option>27</option><option>28</option><option>29</option>
                      </select>
                      </div>
                       
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ยกเลิก</button>
                      <button type="submit" class="btn btn-primary">บันทึก</button>
                    </div>
                  </form>
                  </div>
                </div>
              </div>
            </div>
        </div>
      </div>
      
      </div>
      </div>
      </div>



{% endblock %} </body>
</html>
